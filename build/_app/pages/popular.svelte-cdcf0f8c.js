import{S as s,i as e,s as t,e as a,j as n,k as r,c as o,a as l,m as c,n as i,d as f,b as u,f as $,D as m,o as p,r as d,u as h,v as g,w as v,N as b,O as w,B as j,t as k,g as y,h as R,F as S}from"../chunks/vendor-78501628.js";import{F as I,l as O,u as E,i as F,c as V,f as D}from"../chunks/helper-986d7f78.js";import{A as L}from"../chunks/AsyncLoading-3ebe9c9a.js";import{V as N}from"../chunks/Videos-203bb769.js";import{F as x}from"../chunks/Filter-01932ffb.js";import"../chunks/Loader-60714795.js";import"../chunks/ImageLoader-7c2b3bfa.js";function A(s){let e,t,a=JSON.stringify(s[1])+"";return{c(){e=k("ERROR: "),t=k(a)},l(s){e=y(s,"ERROR: "),t=y(s,a)},m(s,a){$(s,e,a),$(s,t,a)},p(s,e){2&e&&a!==(a=JSON.stringify(s[1])+"")&&R(t,a)},i:S,o:S,d(s){s&&f(e),s&&f(t)}}}function J(s){let e,t;return e=new N({props:{videos:s[2],chosen:s[0]}}),{c(){n(e.$$.fragment)},l(s){c(e.$$.fragment,s)},m(s,a){p(e,s,a),t=!0},p(s,t){const a={};4&t&&(a.videos=s[2]),1&t&&(a.chosen=s[0]),e.$set(a)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){v(e,s)}}}function B(s){let e,t;return e=new L({props:{chosen:s[0]}}),{c(){n(e.$$.fragment)},l(s){c(e.$$.fragment,s)},m(s,a){p(e,s,a),t=!0},p(s,t){const a={};1&t&&(a.chosen=s[0]),e.$set(a)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){v(e,s)}}}function C(s){let e,t,b,w,k,y,R,S,I;b=new x({props:{label:"Sort by:",selected:"default",options:s[5]}}),k=new x({props:{label:"Search by:",options:s[6],placeholder:"search...",search:!0,margin:!0}}),k.$on("input",s[9]);const O=[B,J,A],E=[];function F(s,e){return s[3]?0:s[1]?2:1}return R=F(s),S=E[R]=O[R](s),{c(){e=a("div"),t=a("div"),n(b.$$.fragment),w=r(),n(k.$$.fragment),y=r(),S.c(),this.h()},l(s){e=o(s,"DIV",{class:!0});var a=l(e);t=o(a,"DIV",{class:!0});var n=l(t);c(b.$$.fragment,n),w=i(n),c(k.$$.fragment,n),n.forEach(f),y=i(a),S.l(a),a.forEach(f),this.h()},h(){u(t,"class","filters svelte-1ujgb6t"),u(e,"class","wrapper")},m(s,a){$(s,e,a),m(e,t),p(b,t,null),m(t,w),p(k,t,null),m(e,y),E[R].m(e,null),I=!0},p(s,[t]){let a=R;R=F(s),R===a?E[R].p(s,t):(j(),d(E[a],1,1,(()=>{E[a]=null})),h(),S=E[R],S?S.p(s,t):(S=E[R]=O[R](s),S.c()),g(S,1),S.m(e,null))},i(s){I||(g(b.$$.fragment,s),g(k.$$.fragment,s),g(S),I=!0)},o(s){d(b.$$.fragment,s),d(k.$$.fragment,s),d(S),I=!1},d(s){s&&f(e),v(b),v(k),E[R].d()}}}function q(s,e,t){let a,n,r;b(s,D,(s=>t(0,a=s))),b(s,F,(s=>t(8,n=s)));let o,l,c,i=!1;const f=new I(a,"/popular/?fields=type,title,videoId,author,authorId,viewCount,published,lengthSeconds");f.on("start",(()=>t(3,l=!0))),f.on("ok",(s=>{t(1,r=!1),t(3,l=!1),t(2,o=s)})),f.on("err",(s=>{t(3,l=!1),t(1,r=s),O("popular:fetch",s,"dev");const e=E(n,a);e&&w(F,n=e,n),t(7,i=!0)}));const u=s=>{s&&!f.running&&(f.instance=s,f.go())};return s.$$.update=()=>{385&s.$$.dirty&&i&&(t(7,i=!1),w(D,a=V(n),a),u(a)),1&s.$$.dirty&&u(a)},[a,r,o,l,c,["default","most views","least views","shortest","newest","oldest"],["all","title","author"],i,n,s=>t(4,c=s.detail)]}export default class extends s{constructor(s){super(),e(this,s,q,C,t,{})}}
//# sourceMappingURL=popular.svelte-cdcf0f8c.js.map
